<!doctype>
<html>
<head>
<script type='text/javascript' src="publishingWeb3.js">
</script>
<!-- javascript for ShortBlog -->
<script type='text/javascript'>
// script for ShortBlog
var ShortBlog_instance = undefined;
	
// set address
function ShortBlog_setAddress() {
	var _address = document.getElementById('ShortBlog_address').value;
	ShortBlog_instance = ShortBlogContract.at(_address);
}

function ShortBlog_updateAttributes() {
// update attributes
var messageCount_res = ShortBlog_instance.messageCount();
	if(messageCount_res!=null)
		document.getElementById('ShortBlog_messageCount_value').innerText = messageCount_res;
var lastMessageDate_res = ShortBlog_instance.lastMessageDate();
	if(lastMessageDate_res!=null)
		document.getElementById('ShortBlog_lastMessageDate_value').innerText = lastMessageDate_res;
var name_res = ShortBlog_instance.name();
	if(name_res!=null)
		document.getElementById('ShortBlog_name_value').innerText = name_res;
var _key = document.getElementById('ShortBlog_contract_attribute_messages_input').value;
var messages_res = ShortBlog_instance.messages(_key);
	if(messages_res!=null){
		document.getElementById('ShortBlog_messages_message_value').innerText = messages_res[0];
		document.getElementById('ShortBlog_messages_date_value').innerText = messages_res[1];
		document.getElementById('ShortBlog_messages_id_value').innerText = messages_res[2];
		document.getElementById('ShortBlog_messages_sender_value').innerText = messages_res[3];
		document.getElementById('ShortBlog_messages_blockNumber_value').innerText = messages_res[4];
		document.getElementById('ShortBlog_messages_hashValue_value').innerText = messages_res[5];
		document.getElementById('ShortBlog_messages_externalResource_value').innerText = messages_res[6];
	}

}
//call functions
//function ShortBlog_sendMessage
function ShortBlog_sendMessage_string_string_string() {
	var param_message = document.getElementById('ShortBlog_sendMessage_string_string_string_message').value;
	var param_hash = document.getElementById('ShortBlog_sendMessage_string_string_string_hash').value;
	var param_er = document.getElementById('ShortBlog_sendMessage_string_string_string_er').value;
	var res = ShortBlog_instance.sendMessage(param_message, param_hash, param_er);
}
//function ShortBlog_ShortBlog
function ShortBlog_ShortBlog_string() {
	var param__name = document.getElementById('ShortBlog_ShortBlog_string__name').value;
	var res = ShortBlog_instance.ShortBlog(param__name);
}

//delegated calls

</script>

<!-- javascript for BlogRegistry -->
<script type='text/javascript'>
// script for BlogRegistry
var BlogRegistry_instance = undefined;
	
// set address
function BlogRegistry_setAddress() {
	var _address = document.getElementById('BlogRegistry_address').value;
	BlogRegistry_instance = BlogRegistryContract.at(_address);
}

function BlogRegistry_updateAttributes() {
// update attributes
var blogCount_res = BlogRegistry_instance.blogCount();
	if(blogCount_res!=null)
		document.getElementById('BlogRegistry_blogCount_value').innerText = blogCount_res;
var _key = document.getElementById('BlogRegistry_contract_attribute_blogs_input').value;
var blogs_res = BlogRegistry_instance.blogs(_key);
	if(blogs_res!=null){
		document.getElementById('BlogRegistry_blogs_messageCount_value').innerText = blogs_res[0];
		document.getElementById('BlogRegistry_blogs_lastMessageDate_value').innerText = blogs_res[1];
		document.getElementById('BlogRegistry_blogs_messages_value').innerText = blogs_res[2];
	}
var _key = document.getElementById('BlogRegistry_contract_attribute_names_input').value;
var names_res = BlogRegistry_instance.names(_key);
	if(names_res!=null){
		document.getElementById('BlogRegistry_names_value').innerText = names_res;
	}

}
//call functions
//function BlogRegistry_registerBlog
function BlogRegistry_registerBlog_string() {
	var param_name = document.getElementById('BlogRegistry_registerBlog_string_name').value;
	var res = BlogRegistry_instance.registerBlog(param_name);
	if(res!=null)
		document.getElementById('BlogRegistry_registerBlog_string_res').innerText = res;
}

//delegated calls

</script>


<!-- start of style -->
<style>
.contract {
	border-style: solid;
	border-width: 1px;
	} 
.contract_attributes{
	border-style: solid;
	border-width: 1px;
	} 
</style>
</head>
<body bgcolor='#E6E6FA'>
	<h1>Sample Interface for publishing</h1>
<!-- gui for ShortBlog_contract -->
<div class="contract" id="ShortBlog_contract">
ShortBlog:
  <input type='text' id='ShortBlog_address'> <button onclick='ShortBlog_setAddress()'>change ShortBlog Address</button>
  <div class="contract_attributes" id="ShortBlog_contract_attributes"> attributes:
    <div class="contract_attribute" id="ShortBlog_contract_attribute_messageCount"> messageCount:
      <div class="contract_attribute_value" id="ShortBlog_messageCount_value"> </div>
    </div>
    <div class="contract_attribute" id="ShortBlog_contract_attribute_lastMessageDate"> lastMessageDate:
      <div class="contract_attribute_value" id="ShortBlog_lastMessageDate_value"> </div>
    </div>
    <div class="contract_attribute" id="ShortBlog_contract_attribute_name"> name:
      <div class="contract_attribute_value" id="ShortBlog_name_value"> </div>
    </div>

<!--struct -->
<div class="Struct_Mapping" id="Struc_ShortBlog_contract_attribute_messages">struc mapping  messages:
		<input type='text' id='ShortBlog_contract_attribute_messages_input'>(uint)
    	<div class="Struct_attribute" id="ShortBlog_contract_attribute_messages_message"> message:
      		<div class="Struct_attribute_value" id="ShortBlog_messages_message_value"> </div>
    	</div>
    	<div class="Struct_attribute" id="ShortBlog_contract_attribute_messages_date"> date:
      		<div class="Struct_attribute_value" id="ShortBlog_messages_date_value"> </div>
    	</div>
    	<div class="Struct_attribute" id="ShortBlog_contract_attribute_messages_id"> id:
      		<div class="Struct_attribute_value" id="ShortBlog_messages_id_value"> </div>
    	</div>
    	<div class="Struct_attribute" id="ShortBlog_contract_attribute_messages_sender"> sender:
      		<div class="Struct_attribute_value" id="ShortBlog_messages_sender_value"> </div>
    	</div>
    	<div class="Struct_attribute" id="ShortBlog_contract_attribute_messages_blockNumber"> blockNumber:
      		<div class="Struct_attribute_value" id="ShortBlog_messages_blockNumber_value"> </div>
    	</div>
    	<div class="Struct_attribute" id="ShortBlog_contract_attribute_messages_hashValue"> hashValue:
      		<div class="Struct_attribute_value" id="ShortBlog_messages_hashValue_value"> </div>
    	</div>
    	<div class="Struct_attribute" id="ShortBlog_contract_attribute_messages_externalResource"> externalResource:
      		<div class="Struct_attribute_value" id="ShortBlog_messages_externalResource_value"> </div>
    	</div>
  </div>

    <button onclick='ShortBlog_updateAttributes()'>update ShortBlog attributes</button>
  </div>
  <div class="function_execution" id="ShortBlog_contract_function_ShortBlog_sendMessage_string_string_string">
ShortBlog_sendMessage:
	<input type='text' id='ShortBlog_sendMessage_string_string_string_message'>
	<input type='text' id='ShortBlog_sendMessage_string_string_string_hash'>
	<input type='text' id='ShortBlog_sendMessage_string_string_string_er'>
	<button onclick='ShortBlog_sendMessage_string_string_string()'>execute ShortBlog_sendMessage</button>
	<div class="function_result" id="ShortBlog_sendMessage_string_string_string_res"></div>
  </div>
  <div class="function_execution" id="ShortBlog_contract_function_ShortBlog_ShortBlog_string">
ShortBlog_ShortBlog:
	<input type='text' id='ShortBlog_ShortBlog_string__name'>
	<button onclick='ShortBlog_ShortBlog_string()'>execute ShortBlog_ShortBlog</button>
	<div class="function_result" id="ShortBlog_ShortBlog_string_res"></div>
  </div>

</div>
<!-- gui for BlogRegistry_contract -->
<div class="contract" id="BlogRegistry_contract">
BlogRegistry:
  <input type='text' id='BlogRegistry_address'> <button onclick='BlogRegistry_setAddress()'>change BlogRegistry Address</button>
  <div class="contract_attributes" id="BlogRegistry_contract_attributes"> attributes:
    <div class="contract_attribute" id="BlogRegistry_contract_attribute_blogCount"> blogCount:
      <div class="contract_attribute_value" id="BlogRegistry_blogCount_value"> </div>
    </div>

<!--struct -->
<div class="Struct_Mapping" id="Struc_BlogRegistry_contract_attribute_blogs">struc mapping  blogs:
		<input type='text' id='BlogRegistry_contract_attribute_blogs_input'>(uint)
    	<div class="Struct_attribute" id="BlogRegistry_contract_attribute_blogs_messageCount"> messageCount:
      		<div class="Struct_attribute_value" id="BlogRegistry_blogs_messageCount_value"> </div>
    	</div>
    	<div class="Struct_attribute" id="BlogRegistry_contract_attribute_blogs_lastMessageDate"> lastMessageDate:
      		<div class="Struct_attribute_value" id="BlogRegistry_blogs_lastMessageDate_value"> </div>
    	</div>
    	<div class="Struct_attribute" id="BlogRegistry_contract_attribute_blogs_messages"> messages:
      		<div class="Struct_attribute_value" id="BlogRegistry_blogs_messages_value"> </div>
    	</div>
  </div>
<div class="Value_Mapping" id="BlogRegistry_contract_attribute_names">mapping  names:
		<input type='text' id='BlogRegistry_contract_attribute_names_input'>(uint)
    	<div class="Mapping_value" id="BlogRegistry_contract_attribute_uint"> string:
      		<div class="contract_attribute_value" id="BlogRegistry_names_value"> </div>
    	</div>
  </div>

    <button onclick='BlogRegistry_updateAttributes()'>update BlogRegistry attributes</button>
  </div>
  <div class="function_execution" id="BlogRegistry_contract_function_BlogRegistry_registerBlog_string">
BlogRegistry_registerBlog:
	<input type='text' id='BlogRegistry_registerBlog_string_name'>
	<button onclick='BlogRegistry_registerBlog_string()'>execute BlogRegistry_registerBlog</button>
	<div class="function_result" id="BlogRegistry_registerBlog_string_res"></div>
  </div>

</div>

<script type='text/javascript'>
if(contracts['ShortBlog']!=undefined){
  ShortBlog_instance = contracts['ShortBlog'].contract;
  document.getElementById('ShortBlog_address').value = ShortBlog_instance.address; 
  ShortBlog_updateAttributes();
}
if(contracts['BlogRegistry']!=undefined){
  BlogRegistry_instance = contracts['BlogRegistry'].contract;
  document.getElementById('BlogRegistry_address').value = BlogRegistry_instance.address; 
  BlogRegistry_updateAttributes();
}
</script>
</body>
</html>
